---
import { socials } from "@/config";

const defaultFooter = {
	sections: [
		{
			title: "TeaClient",
			links: [
				//{ label: "About Us", href: "/about" },
				//{ label: "Our History", href: "/our-history" },
				{ label: "Applications", href: "/discord" },
			],
		},
		{
			title: "Resources",
			links: [
				{ label: "Wiki", href: "/wiki" },
				//{ label: "Support", href: "/support" },
				//{ label: "Status", href: "/status" },
			],
		},
		{
			title: "Legal",
			links: [
				//{ label: "Privacy Policy", href: "/privacy" },
				{ label: "Terms of Service", href: "/terms" },
			],
		},
		{
			title: "Connect",
			links: socials.map(({ title }) => ({
				label: title,
				href: `/${title.toLowerCase()}`, // use href (not link)
			})),
		},
	],
};

// Properly closed type with commas and brackets
type Link = { label: string; href: string; icon?: any };
type Section = { title: string; links: Link[] };
type Sections = Section[];

const footer: { sections: Sections } = Astro.props.footer ?? defaultFooter;
---
<footer class="text-purple-300 h-[3%] justify-center content-center text-center px-6 mt-auto mb-[15%] sticky -bottom-10 transition-opacity duration-300">
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 pt-5">
    {
      (footer.sections ?? []).map((section: Section) => (
        <div>
          <h3>{section.title}</h3>
          <ul>
            {
              (section.links ?? []).map((link: Link) => (
                <li>
                  <a href={link.href} aria-label={link.label}>{link.label}</a>
                </li>
              ))
            }
          </ul>
        </div>
      ))
    }
  </div>
  <!-- Copyright Section -->
  <div class="mt-8 pt-5 space-y-1 rounded-3xl border-t border-b pb-5 border-purple-800/30 text-purple-400 px-2 text-center w-[40%] sm:col-span-4 mx-auto">
    <p class="text-sm sm:text-md text-purple-400/25">
      Not Affiliated with Mojang or Minecraft
    </p>
    <p class="text-sm sm:text-md font-extralight sm:text-purple-400/80">
      &copy; {new Date().getFullYear()}
      <a href="https://digitalbrewstudios.com">DigitalBrewStudios</a>. All
      rights reserved.
    </p>
  </div>
</footer>
